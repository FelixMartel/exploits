# wkhtmltopdf exploit
See [blog post](https://blog.lixtelnis.com/wkhtmltopdf-webkit/). Goal is to be portable across x64 linux builds.
Overview:
- Simple addrof primitive
- Free primitive to aliasing of Uint8Array and next object allocation
- Aliasing of a StringImpl for arbitrary memory read (workaround since can't alias with Uint8Array at this point)
- Use arbitrary read to obtain the vtable pointer Uint8Array
- Aliasing of Array to craft a fake Uint8Array using vtable value. We have gained an arbitrary write (not used)
- Fake function object and its first vtable offset called to QProcess::startDetached
- rdi (this) will be an hybrid/incomplete QString and JS function we craft

## credits
- [Object aliasing primtive](https://scarybeastsecurity.blogspot.com/2017/05/ode-to-use-after-free-one-vulnerable.html) from Chris Evans
- whoever found CVE-2012-3748